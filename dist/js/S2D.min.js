function S2D(t){const e=void 0!==t.point&&!!t.point;this.point=t,e&&(this.point=t.point);let n=this.point,i=null,l=null,o=null,s=null;n.innerHTML='            <div class="grapple-point-slider grapple-point-horizontal-slider top"></div>            <div class="grapple-point-slider grapple-point-horizontal-slider bottom"></div>            <div class="grapple-point-slider grapple-point-vertical-slider left"></div>            <div class="grapple-point-slider grapple-point-vertical-slider right"></div>            <div class="grapple-handle"></div>          ',i=n.querySelector(".grapple-point-horizontal-slider.top"),l=n.querySelector(".grapple-point-horizontal-slider.bottom"),o=n.querySelector(".grapple-point-vertical-slider.left"),s=n.querySelector(".grapple-point-vertical-slider.right"),this.handle=n.querySelector(".grapple-handle");const r=this.handle;m(),this.sliderContainer=n.parentElement;const a=this.sliderContainer;this.handleIndex=n.id.replace("grapple-point-","");let u=function(){};const c=this.handleIndex;function h(t,e){x(t,"",(function(t){t.style.display=e}),(function(){let t=0,i="none";const l=n.querySelector(".grapple-handle");"none"!==e&&(t=1,i="all"),l.style.opacity=t,l.style.pointerEvents=i}))}function p(t,e=null,n=null){null===e&&(null===n&&t.preventDefault());const h=null!==e?document.getElementById("grapple-point-"+e).querySelector(".grapple-handle"):null===n?t.target:r,p=h.closest('[id*="grapple-point-"]'),y=p.parentNode,x={x:r.getBoundingClientRect().width,y:r.getBoundingClientRect().height};b(x);const m=null!==e?H(d(r,y)):null!==n?n:H(v(t,y,{x:x.x/2,y:x.y/2})),R=H(d(r,y)),k={x:m.x-R.x,y:m.y-R.y},A=null!=h.closest(".grapple-point-vertical-slider"),S=null!=h.closest(".grapple-point-horizontal-slider"),F=!!p.getAttribute("link"),M={l:0,r:100,t:0,b:100};if(F){p.getAttribute("link").split(" ").forEach((function(t){const e=t.split("-"),n=e[0],i=e[1];if(!!y.getAttribute("horizontal-"+i))"l"!==n&&"r"!==n||(M[n]=parseFloat(y.getAttribute("horizontal-"+i))),"t"!==n&&"b"!==n||(M[n]=parseFloat(y.getAttribute("vertical-"+i)));else{const t=a.getElementById("grapple-point-"+i).getAttribute("initial-position").split(",");"l"!==n&&"r"!==n||(M[n]=parseFloat(t[0])),"t"!==n&&"b"!==n||(M[n]=parseFloat(t[1]))}}))}function z(t){if(1!==t.buttons)return void C(h);const e=function(t,e){let n=v(t,e),i={x:f(n.x/e.getBoundingClientRect().width*100),y:f(n.y/e.getBoundingClientRect().height*100)};return i}(t,y);E(B(e));const n=p.getAttribute("link");if(null!==n){n.split(" ").forEach((function(t){const e=parseInt(t.split("-")[1]);let n="";[c+"-"+e,e+"-"+c].forEach((function(t){const e='svg[slider-link="'+t+'"]';n=""===n?e:n+", "+e}));a.querySelectorAll(n).forEach((function(t){w(t,e)}))}))}u()}function B(t,e=!1){const n=e?{x:0,y:0}:k;let a,u;a=g(A?parseFloat(r.style.left.replace("%")):Math.min(Math.max(t.x-n.x,M.l),M.r)),u=g(S?parseFloat(r.style.top.replace("%")):Math.min(Math.max(t.y-n.y,M.t),M.b)),i.style.left="calc("+a+"%)",l.style.left="calc("+a+"%)",i.style.height=u+"%",l.style.height="calc("+(100-u)+"%)",l.style.top="calc("+u+"%)",r.style.left=a+"%",o.style.top="calc("+u+"%)",s.style.top="calc("+u+"%)",o.style.width=a+"%",s.style.width="calc("+(100-a)+"%)",s.style.left="calc("+a+"%)",r.style.top=u+"%";return{x:a,y:u}}function C(t){document.removeEventListener("mousemove",z),t.onmouseup=null}function H(t){return{x:f(t.x/y.getBoundingClientRect().width*100),y:f(t.y/y.getBoundingClientRect().height*100)}}function E(t,e=null){const n=null===e?c:e;y.setAttribute("horizontal-"+n,f(t.x)),y.setAttribute("vertical-"+n,f(t.y))}if(document.addEventListener("mousemove",z),h.onmouseup=function(){document.removeEventListener("mousemove",z),h.onmouseup=null,C(h)},null!==n&&E(B(n,!0)),null!==e){E(B(function(){const t=p.getAttribute("initial-position");if(null!==t){const e=t.split(",");return{x:parseFloat(e[0]),y:parseFloat(e[1])}}return{x:0,y:0}}()),e)}u()}function g(t,e=3){return f(t,e)}function f(t,e=3){return(R(t)+parseFloat("0."+"0".repeat(e)+"1")).toString().slice(0,e+Math.floor(t).toString().length+1)}function d(t,e,n={x:0,y:0}){const i=t.getBoundingClientRect(),l=e.getBoundingClientRect();return{x:i.left-l.left+n.x,y:i.top-l.top+n.y}}function v(t,e,n={x:0,y:0}){const i=e.getBoundingClientRect();return{x:t.clientX-n.x-i.left,y:t.clientY-n.y-i.top}}function y(t){const e=parseFloat(a.getAttribute("horizontal-"+t)),n=parseFloat(a.getAttribute("vertical-"+t));return{h:isNaN(e)?0:e,v:isNaN(n)?0:n}}function x(t,e,n,a=null){t.replace(e,"");switch(t){case"h":null===a?n(r):a(r);break;case"l":n(o);break;case"r":n(s);break;case"t":n(i);break;case"b":n(l)}}function b(t=null){let e={};e=null!==t?t:{x:r.getBoundingClientRect().width,y:r.getBoundingClientRect().height},r.style.transform="translate(-"+e.x/2+"px, -"+ +e.y/2+"px)";const n=i.getBoundingClientRect().width;i.style.transform="translateX(-"+n/2+"px)";const a=l.getBoundingClientRect().width;l.style.transform="translateX(-"+a/2+"px)";const u=o.getBoundingClientRect().height;o.style.transform="translateY(-"+u/2+"px)";const c=s.getBoundingClientRect().height;s.style.transform="translateY(-"+c/2+"px)"}function m(t=null){const e=null!==t?t.split(""):null!==n.getAttribute("mask-handles")?n.getAttribute("mask-handles").split(""):[];let i="hlrtb";e.forEach((function(t){i=i.replace(t,""),h(t,"none")})),i.split("").forEach((function(t){i=i.replace(t,""),h(t,"block")}))}function R(t,e=3){return function(t,e=3){const n=Math.pow(10,e);return Math.round(t*n)/n}(t,e)}function k(t,e,n,i,l){return(t-e)*(l-i)/(n-e)+i}function w(t,e){let n=t.getAttribute("slider-link");const i=t.querySelector("polyline"),l=y(c),o=y(e);n=n.replace(c.toString(),"#hashIdentifier-ABCDEF#"),n=n.replace(e.toString(),"#hashIdentifier-GHIJKL#"),n=n.replace("#hashIdentifier-ABCDEF#",l.h+","+l.v),n=n.replace("#hashIdentifier-GHIJKL#",o.h+","+o.v),n=n.replace("-"," "),i.setAttribute("points",n)}var A;this.horizontalRange={low:null,high:null,suffix:null},this.verticalRange={low:null,high:null,suffix:null},n.onmousedown=function(t){p(t)},this.clearHandleHTML=function(t){this.setHandleInnerHTML(t,"")},this.fswep=function(t,e=3){return g(t,e)},this.getRanges=function(){return"object"!=typeof this.horizontalRange.low&&"object"!=typeof this.horizontalRange.high&&"object"!=typeof this.verticalRange.low&&"object"!=typeof this.verticalRange.high?{h:this.horizontalRange,v:this.verticalRange}:{h:null,v:null}},this.getValues=function(t=!1){const e=this.getRanges(),i=n.parentElement;let l;if(null===e.h&&null===e.v||t)l={h:parseFloat(i.getAttribute("horizontal-"+c)),hSuffix:"%",v:parseFloat(i.getAttribute("vertical-"+c)),vSuffix:"%"};else{const t=parseFloat(i.getAttribute("horizontal-"+c)),n=parseFloat(i.getAttribute("vertical-"+c));l={h:k(t,0,100,e.h.low,e.h.high),hSuffix:e.h.suffix,v:k(n,0,100,e.v.low,e.v.high),vSuffix:e.v.suffix}}return{h:R(l.h),hSuffix:l.hSuffix,v:R(l.v),vSuffix:l.vSuffix}},this.moveTo=function(t){p(null,null,t)},this.rtp=function(t,e=3){R(t,e)},this.setHandleInnerHTML=function(t,e){x(t,"",(function(t){t.innerHTML=e})),b()},this.setHorizontalRange=function(t,e,n){this.horizontalRange={low:t,high:e,suffix:n}},this.setLinks=function(t){!function(t=null){null!==t&&(n.setAttribute("link",t),t.split(" ").forEach((function(t){const e=t.split("-")[1],n=c+"-"+e,i='              [slider-link="'+c+"-"+e+'"],              [slider-link="'+e+"-"+c+'"]';if(!(null!==a.querySelector(i))){const t='                    <svg                        slider-link="'+n+'"                        viewBox="0 0 100 100"                        xmlns="http://www.w3.org/2000/svg"                        preserveAspectRatio="none"                    >                        <polyline                            fill="none"                            stroke="#008eff"                            stroke-linecap="round"                            stroke-dasharray="4 2"                            points=""                            marker-end="url(#triangle)"                        ></polyline>                    </svg>                ',e=document.createElement("div");e.classList.add("svg-container"),e.innerHTML=t,a.prepend(e)}w(a.querySelector(i),e)})))}(t)},this.setMaskHandles=function(t=null){m(t)},this.setOnMoveFunction=function(t,e=!0){u=t,e&&u()},this.setVerticalRange=function(t,e,n){this.verticalRange={low:t,high:e,suffix:n}},this.setRanges=function(){switch(arguments.length){case 1:this.setHorizontalRange(arguments[0].h.low,arguments[0].h.high,arguments[0].h.suffix),this.setVerticalRange(arguments[0].v.low,arguments[0].v.high,arguments[0].v.suffix);break;case 2:this.setHorizontalRange(arguments[0].low,arguments[0].high,arguments[0].suffix),this.setVerticalRange(arguments[1].low,arguments[1].high,arguments[1].suffix);break;case 6:this.setHorizontalRange(arguments[0],arguments[1],arguments[2]),this.setVerticalRange(arguments[3],arguments[4],arguments[5]);break;default:console.error("Wrong number of arguments!")}},p(null,c),A=this,e&&(void 0!==t.setOnMoveFunction&&A.setOnMoveFunction(t.setOnMoveFunction),void 0!==t.setMaskHandles&&A.setMaskHandles(t.setMaskHandles),void 0!==t.setRanges&&A.setRanges(t.setRanges),void 0!==t.moveTo&&A.moveTo(t.moveTo),void 0!==t.setLinks&&A.setLinks(t.setLinks))}